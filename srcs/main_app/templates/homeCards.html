<div class="row">
    <div class="col-12">
        <p id="welcome">
            Welcome back {{ userData.first_name }}, it's PONGPING time!
        </p>
    </div>
    <!-- <div class="col-2">
{% include "gameButton.html" %}
</div> -->
</div>

<div class="row g-5 m-0">
    <div class="col-4">
        {% include "buttonCard.html" with img="imgs/game.svg" title="Play Online" description="Get matched with a random player online" onClick="engine('/online')" %}
    </div>
    <div class="col-4">
        {% include "buttonCard.html" with img="imgs/offline.svg" title="Play Offline" description="Play a local match with your friends" onClick="engine('/offline')" %}
    </div>
    <div class="col-4">
        {% include "buttonCard.html" with img="imgs/cup.svg" title="Tournament" description="Compete in a tournament or start your own!" onClick="engine('/tournament')" %}
    </div>
</div>

<div class="row g-5 m-0 flex-grow-1 historySection">
    <div id="matchHistoryDash" class="col-8">
        <div class="content p-2">
            <div class="titleSection">
                <h3 class="title">Match History</h3>
            </div>

            <div id="matchHistoryInjection">

                {%if matchHistory %}
                    {% for match in matchHistory %}
                        {% include 'matchHistoryEntry.html' with img=userData.image myScore=match.my_score theirScore=match.opponents.0.opponent_score theirImg=match.opponents.0.opponent_score.opponent_image_url theirUsername=userData.username time=match.timePassed %}
                    {% endfor %}
                {% else %}
                    <p>Participate in matches to check your history {{matchHistory}} sada</p>
                    {% include "gameButton.html" with onclick="engine('/online')" content="Join online game" %}
                {% endif %}
            </div>
        </div>
    </div>

    <div id="tournamentHistoryDash" class="col-4 d-flex flex-column flex-grow-1 ">
        <div class="content p-2">
            <div class="titleSection">
                <h3 class="title">Your Tournaments</h3>
            </div>
            <div id="tournamentHistoryInjection">

                {%if tournamentHistory %}
                    {% for match in tournamentHistory %}
                        {% include 'tournamentHistoryEntry.html' with img=userData.image rank=match.rank date=match.tournament_time_passed%}
                    {% endfor %}
                {% else %}
                    <p>Participate in tournaments to check your ranking</p>
                    {% include "gameButton.html" with onclick="engine('/tournament')" content="Join Tournament" %}
                {% endif %}
            </div>
        </div>
    </div>
</div>
